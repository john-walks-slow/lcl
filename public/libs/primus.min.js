!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.feathers=t():e.feathers=t()}(this,(function(){return e={898:function(e,t,n){var r;t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(r=!1,function(){r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=n(604)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},604:function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){function t(e){var n,r=null;function s(){for(var e,r,o,i,a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];s.enabled&&(e=s,o=(r=Number(new Date))-(n||r),e.diff=o,e.prev=n,e.curr=r,n=r,c[0]=t.coerce(c[0]),"string"!=typeof c[0]&&c.unshift("%O"),c[i=0]=c[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return"%";i++;var o=t.formatters[r];return"function"==typeof o&&(r=c[i],n=o.call(e,r),c.splice(i,1),i--),n})),t.formatArgs.call(e,c),(e.log||t.log).apply(e,c))}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=o,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===r?t.enabled(e):r},set:function(e){r=e}}),"function"==typeof t.init&&t.init(s),s}function o(e,n){return(e=t(this.namespace+(void 0===n?":":n)+e)).log=this.log,e}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((t.debug=t).default=t).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(r(t.names.map(s)),r(t.skips.map(s).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(378),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},285:function(e,t,n){e.exports=n(849)},441:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(898)("@feathersjs/errors");function s(e,t,n,i,a){var c,u,l;(e=e||"Error")instanceof Error?(u=e.message||"Error",e.errors&&(c=e.errors)):"object"===r(e)?(u=e.message||"Error",a=e):u=e,a&&((l=JSON.parse(JSON.stringify(a))).errors?(c=l.errors,delete l.errors):a.errors&&(c=JSON.parse(JSON.stringify(a.errors)))),this.type="FeathersError",this.name=t,this.message=u,this.code=n,this.className=i,this.data=l,this.errors=c||{},o("".concat(this.name,"(").concat(this.code,"): ").concat(this.message)),o(this.errors),Error.captureStackTrace?Error.captureStackTrace(this,s):this.stack=(new Error).stack}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e}function a(e,t){s.call(this,e,"BadRequest",400,"bad-request",t)}function c(e,t){s.call(this,e,"NotAuthenticated",401,"not-authenticated",t)}function u(e,t){s.call(this,e,"PaymentError",402,"payment-error",t)}function l(e,t){s.call(this,e,"Forbidden",403,"forbidden",t)}function f(e,t){s.call(this,e,"NotFound",404,"not-found",t)}function d(e,t){s.call(this,e,"MethodNotAllowed",405,"method-not-allowed",t)}function h(e,t){s.call(this,e,"NotAcceptable",406,"not-acceptable",t)}function p(e,t){s.call(this,e,"Timeout",408,"timeout",t)}function m(e,t){s.call(this,e,"Conflict",409,"conflict",t)}function C(e,t){s(this,e,"Gone",410,"gone")}function y(e,t){s.call(this,e,"LengthRequired",411,"length-required",t)}function g(e,t){s.call(this,e,"Unprocessable",422,"unprocessable",t)}function v(e,t){s.call(this,e,"TooManyRequests",429,"too-many-requests",t)}function b(e,t){s.call(this,e,"GeneralError",500,"general-error",t)}function F(e,t){s.call(this,e,"NotImplemented",501,"not-implemented",t)}function w(e,t){s.call(this,e,"BadGateway",502,"bad-gateway",t)}function E(e,t){s.call(this,e,"Unavailable",503,"unavailable",t)}i(s,Error),Object.defineProperty(s.prototype,"toJSON",{value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}}),i(a,s),i(c,s),i(u,s),i(l,s),i(f,s),i(d,s),i(h,s),i(p,s),i(m,s),i(C,s),i(y,s),i(g,s),i(v,s),i(b,s),i(F,s),i(w,s),i(E,s);var x={FeathersError:s,BadRequest:a,NotAuthenticated:c,PaymentError:u,Forbidden:l,NotFound:f,MethodNotAllowed:d,NotAcceptable:h,Timeout:p,Conflict:m,Gone:C,LengthRequired:y,Unprocessable:g,TooManyRequests:v,GeneralError:b,NotImplemented:F,BadGateway:w,Unavailable:E,400:a,401:c,402:u,403:l,404:f,405:d,406:h,408:p,409:m,410:C,411:y,422:g,429:v,500:b,501:F,502:w,503:E};e.exports=Object.assign({convert:function(e){if(!e)return e;var t=(t=x[e.name])?new t(e.message,e.data):new Error(e.message||e);return"object"===r(e)&&Object.assign(t,e),t}},x)},849:function(e,t,n){var r=n(910);function o(e,t){if(!e)throw new Error("Primus connection needs to be provided");function n(n){return new r(Object.assign({},t,{name:n,connection:e,method:"send"}))}function o(t){if("function"==typeof t.defaultService)throw new Error("Only one default client provider can be configured");t.primus=e,t.defaultService=n}return o.Service=r,o.service=n,o}e.exports=o,e.exports.default=o},910:function(e,t,n){e.exports=n(4).Service},4:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Service=void 0,r=r(n(898));var o=n(441),s=r.default("@feathersjs/transport-commons/client"),i=["addListener","emit","listenerCount","listeners","on","once","prependListener","prependOnceListener","removeAllListeners","removeListener"],a=["eventNames","getMaxListeners","setMaxListeners"];r=function(){function e(t){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.events=t.events,this.path=t.name,this.connection=t.connection,this.method=t.method,this.timeout=t.timeout||5e3,function(e){a.forEach((function(t){e[t]=function(){var e;if("function"!=typeof this.connection[t])throw new Error("Can not call '".concat(t,"' on the client service connection"));return(e=this.connection)[t].apply(e,arguments)}})),i.forEach((function(t){e[t]=function(e){if("function"!=typeof this.connection[t])throw new Error("Can not call '".concat(t,"' on the client service connection"));var n="".concat(this.path," ").concat(e);s("Calling emitter method ".concat(t," with ")+"namespaced event '".concat(n,"'"));for(var r=arguments.length,o=new Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return(n=(e=this.connection)[t].apply(e,[n].concat(o)))===this.connection?this:n}}))}(this)}var t;return(t=[{key:"send",value:function(e){for(var t=this,n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new Promise((function(n,i){var a,c=setTimeout((function(){return i(new o.Timeout("Timeout of ".concat(t.timeout,"ms exceeded calling ").concat(e," on ").concat(t.path),{timeout:t.timeout,method:e,path:t.path}))}),t.timeout);r.unshift(e,t.path),r.push((function(e,t){return e=o.convert(e),clearTimeout(c),e?i(e):n(t)})),s("Sending socket.".concat(t.method),r),(a=t.connection)[t.method].apply(a,r)}))}},{key:"find",value:function(e){return e=0<arguments.length&&void 0!==e?e:{},this.send("find",e.query||{})}},{key:"get",value:function(e,t){return t=1<arguments.length&&void 0!==t?t:{},this.send("get",e,t.query||{})}},{key:"create",value:function(e,t){return t=1<arguments.length&&void 0!==t?t:{},this.send("create",e,t.query||{})}},{key:"update",value:function(e,t,n){return n=2<arguments.length&&void 0!==n?n:{},this.send("update",e,t,n.query||{})}},{key:"patch",value:function(e,t,n){return n=2<arguments.length&&void 0!==n?n:{},this.send("patch",e,t,n.query||{})}},{key:"remove",value:function(e,t){return t=1<arguments.length&&void 0!==t?t:{},this.send("remove",e,t.query||{})}},{key:"off",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"!=typeof this.connection.off?0===n.length?this.removeAllListeners(e):this.removeListener.apply(this,[e].concat(n)):(e=(o=this.connection).off.apply(o,["".concat(this.path," ").concat(e)].concat(n)))===this.connection?this:e;var o}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),t.Service=r},378:function(e){var t=36e5,n=864e5;function r(e,t,n,r){return t=1.5*n<=t,Math.round(e/n)+" "+r+(t?"s":"")}e.exports=function(e,o){o=o||{};var s=typeof e;if("string"==s&&0<e.length)return function(e){if(!(100<(e=String(e)).length)&&(e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e))){var r=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return r*n;case"hours":case"hour":case"hrs":case"hr":case"h":return r*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*r;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}(e);if("number"==s&&isFinite(e))return(o.long?function(e){var o=Math.abs(e);return n<=o?r(e,o,n,"day"):t<=o?r(e,o,t,"hour"):6e4<=o?r(e,o,6e4,"minute"):1e3<=o?r(e,o,1e3,"second"):e+" ms"}:function(e){var r=Math.abs(e);return n<=r?Math.round(e/n)+"d":t<=r?Math.round(e/t)+"h":6e4<=r?Math.round(e/6e4)+"m":1e3<=r?Math.round(e/1e3)+"s":e+"ms"})(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}},t={},function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(285);var e,t}));