!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.feathers=t():e.feathers=t()}(this,(function(){return e={898:function(e,t,r){var n;t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(n=!1,function(){n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=r(604)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},604:function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e.exports=function(e){function t(e){var r,n=null;function i(){for(var e,n,o,c,a=arguments.length,u=new Array(a),s=0;s<a;s++)u[s]=arguments[s];i.enabled&&(e=i,o=(n=Number(new Date))-(r||n),e.diff=o,e.prev=r,e.curr=n,r=n,u[0]=t.coerce(u[0]),"string"!=typeof u[0]&&u.unshift("%O"),u[c=0]=u[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return"%";c++;var o=t.formatters[n];return"function"==typeof o&&(n=u[c],r=o.call(e,n),u.splice(c,1),c--),r})),t.formatArgs.call(e,u),(e.log||t.log).apply(e,u))}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=o,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===n?t.enabled(e):n},set:function(e){n=e}}),"function"==typeof t.init&&t.init(i),i}function o(e,r){return(e=t(this.namespace+(void 0===r?":":r)+e)).log=this.log,e}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((t.debug=t).default=t).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(n(t.names.map(i)),n(t.skips.map(i).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(378),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(r){t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},905:function(e,t,r){e.exports=r(357)},196:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.enableHooks=t.processHooks=t.getHooks=t.isHookObject=t.convertHookData=t.makeArguments=t.defaultMakeArguments=t.createHookObject=t.ACTIVATE_HOOKS=void 0;var o=r(541),i=(r=o._).each,c=r.pick;function a(e){var t=[];return void 0!==e.id&&t.push(e.id),e.data&&t.push(e.data),t.push(e.params||{}),t}function u(e){var t={};return Array.isArray(e)?t={all:e}:"object"!==n(e)?t={all:[e]}:i(e,(function(e,r){t[r]=Array.isArray(e)?e:[e]})),t}function s(e){return"object"===n(e)&&"string"==typeof e.method&&"string"==typeof e.type}t.ACTIVATE_HOOKS=o.createSymbol("__feathersActivateHooks"),t.createHookObject=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={};return Object.defineProperty(r,"toJSON",{value:function(){return c(this,"type","method","path","params","id","data","result","error")}}),Object.assign(r,t,{method:e,get path(){var e=t.app,r=t.service;return r&&e&&e.services?Object.keys(e.services).find((function(t){return e.services[t]===r})):null}})},t.defaultMakeArguments=a,t.makeArguments=function(e){switch(e.method){case"find":return[e.params];case"get":case"remove":return[e.id,e.params];case"update":case"patch":return[e.id,e.data,e.params];case"create":return[e.data,e.params]}return a(e)},t.convertHookData=u,t.isHookObject=s,t.getHooks=function(e,t,r,n){var o=4<arguments.length&&void 0!==arguments[4]&&arguments[4];return e=e.__hooks[r][n]||[],n=t.__hooks[r][n]||[],o?n.concat(e):e.concat(n)},t.processHooks=function(e,t){function r(e){if(e){if(!s(e))throw new Error("".concat(o.type," hook for '").concat(o.method,"' method returned invalid hook object"));o=e}return o}var n=this,o=t;return e.reduce((function(e,t){var o=t.bind(n);return e.then((function(e){return o(e)})).then(r)}),Promise.resolve(o)).then((function(){return o})).catch((function(e){throw e.hook=o,e}))},t.enableHooks=function(e,t,r){if("function"==typeof e.hooks)return e;var n={};return r.forEach((function(e){n[e]={}})),Object.defineProperty(e,"__hooks",{configurable:!0,value:n,writable:!0}),Object.assign(e,{hooks:function(e){var r=this;return i(e,(function(e,n){if(!r.__hooks[n])throw new Error("'".concat(n,"' is not a valid hook type"));var o=u(e);i(o,(function(e,r){if("all"!==r&&-1===t.indexOf(r))throw new Error("'".concat(r,"' is not a valid hook method"))})),t.forEach((function(e){var t=r.__hooks[n][e]||(r.__hooks[n][e]=[]);o.all&&t.push.apply(t,o.all),o[e]&&t.push.apply(t,o[e])}))})),this}})}},575:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},c=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.hooks=void 0,i=i(r(196)),c(r(541),t),t.hooks=i},541:function(e,t){"use strict";function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(n=(c=a.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.createSymbol=t.makeUrl=t.isPromise=t._=t.stripSlashes=void 0,t.stripSlashes=function(e){return e.replace(/^(\/+)|(\/+)$/g,"")},t._={each:function(e,r){e&&"function"==typeof e.forEach?e.forEach(r):t._.isObject(e)&&Object.keys(e).forEach((function(t){return r(e[t],t)}))},some:function(e,t){return Object.keys(e).map((function(t){return[e[t],t]})).some((function(e){e=(r=o(e,2))[0];var r=r[1];return t(e,r)}))},every:function(e,t){return Object.keys(e).map((function(t){return[e[t],t]})).every((function(e){e=(r=o(e,2))[0];var r=r[1];return t(e,r)}))},keys:function(e){return Object.keys(e)},values:function(e){return t._.keys(e).map((function(t){return e[t]}))},isMatch:function(e,r){return t._.keys(r).every((function(t){return e[t]===r[t]}))},isEmpty:function(e){return 0===t._.keys(e).length},isObject:function(e){return"object"===n(e)&&!Array.isArray(e)&&null!==e},isObjectOrArray:function(e){return"object"===n(e)&&null!==e},extend:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Object.assign.apply(Object,[e].concat(r))},omit:function(e){for(var r=t._.extend({},e),n=arguments.length,o=new Array(1<n?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return o.forEach((function(e){return delete r[e]})),r},pick:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((function(t,r){return void 0!==e[r]&&(t[r]=e[r]),t}),{})},merge:function(e,n){return t._.isObject(e)&&t._.isObject(n)&&Object.keys(n).forEach((function(o){t._.isObject(n[o])?(e[o]||Object.assign(e,r({},o,{})),t._.merge(e[o],n[o])):Object.assign(e,r({},o,n[o]))})),e}},t.isPromise=function(e){return t._.isObject(e)&&"function"==typeof e.then},t.makeUrl=function(e){var r=(i="function"==typeof(o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).get?o.get.bind(o):function(){})("env")||"production",n=i("host")||process.env.HOST_NAME||"localhost",o="development"===r||"test"===r?"http":"https",i=i("port")||process.env.PORT||3030;return i="development"===r||"test"===r?":".concat(i):"",e=e||"","".concat(o,"://").concat(n).concat(i,"/").concat(t.stripSlashes(e))},t.createSymbol=function(e){return"undefined"!=typeof Symbol?Symbol(e):e}},441:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(898)("@feathersjs/errors");function i(e,t,r,c,a){var u,s,f;(e=e||"Error")instanceof Error?(s=e.message||"Error",e.errors&&(u=e.errors)):"object"===n(e)?(s=e.message||"Error",a=e):s=e,a&&((f=JSON.parse(JSON.stringify(a))).errors?(u=f.errors,delete f.errors):a.errors&&(u=JSON.parse(JSON.stringify(a.errors)))),this.type="FeathersError",this.name=t,this.message=s,this.code=r,this.className=c,this.data=f,this.errors=u||{},o("".concat(this.name,"(").concat(this.code,"): ").concat(this.message)),o(this.errors),Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack=(new Error).stack}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e}function a(e,t){i.call(this,e,"BadRequest",400,"bad-request",t)}function u(e,t){i.call(this,e,"NotAuthenticated",401,"not-authenticated",t)}function s(e,t){i.call(this,e,"PaymentError",402,"payment-error",t)}function f(e,t){i.call(this,e,"Forbidden",403,"forbidden",t)}function l(e,t){i.call(this,e,"NotFound",404,"not-found",t)}function p(e,t){i.call(this,e,"MethodNotAllowed",405,"method-not-allowed",t)}function y(e,t){i.call(this,e,"NotAcceptable",406,"not-acceptable",t)}function d(e,t){i.call(this,e,"Timeout",408,"timeout",t)}function h(e,t){i.call(this,e,"Conflict",409,"conflict",t)}function b(e,t){i(this,e,"Gone",410,"gone")}function m(e,t){i.call(this,e,"LengthRequired",411,"length-required",t)}function v(e,t){i.call(this,e,"Unprocessable",422,"unprocessable",t)}function g(e,t){i.call(this,e,"TooManyRequests",429,"too-many-requests",t)}function O(e,t){i.call(this,e,"GeneralError",500,"general-error",t)}function j(e,t){i.call(this,e,"NotImplemented",501,"not-implemented",t)}function w(e,t){i.call(this,e,"BadGateway",502,"bad-gateway",t)}function C(e,t){i.call(this,e,"Unavailable",503,"unavailable",t)}c(i,Error),Object.defineProperty(i.prototype,"toJSON",{value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}}),c(a,i),c(u,i),c(s,i),c(f,i),c(l,i),c(p,i),c(y,i),c(d,i),c(h,i),c(b,i),c(m,i),c(v,i),c(g,i),c(O,i),c(j,i),c(w,i),c(C,i);var S={FeathersError:i,BadRequest:a,NotAuthenticated:u,PaymentError:s,Forbidden:f,NotFound:l,MethodNotAllowed:p,NotAcceptable:y,Timeout:d,Conflict:h,Gone:b,LengthRequired:m,Unprocessable:v,TooManyRequests:g,GeneralError:O,NotImplemented:j,BadGateway:w,Unavailable:C,400:a,401:u,402:s,403:f,404:l,405:p,406:y,408:d,409:h,410:b,411:m,422:v,429:g,500:O,501:j,502:w,503:C};e.exports=Object.assign({convert:function(e){if(!e)return e;var t=(t=S[e.name])?new t(e.message,e.data):new Error(e.message||e);return"object"===n(e)&&Object.assign(t,e),t}},S)},977:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=c(e);return r=t?(r=c(this).constructor,Reflect.construct(o,arguments,r)):o.apply(this,arguments),o=this,!(r=r)||"object"!==n(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):r}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=r(421);r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,a);var e,t=i(r);function r(){return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return(e=[{key:"request",value:function(e,t){var r=this.connection,n=this.options.HttpHeaders;if(!r||!n)throw new Error("Please pass angular's 'httpClient' (instance) and and object with 'HttpHeaders' (class) to feathers-rest");var o=e.url,i=void 0===(i=t.connection)?{}:i,c=(i=new n(Object.assign({Accept:"application/json"},this.options.headers,e.headers,i.headers)),Object.assign({body:e.body},t.connection,{headers:i}));return new Promise((function(t,n){r.request(e.method,o,c).subscribe(t,n)})).catch((function(e){var t=e.error;if(t)throw"string"==typeof t?JSON.parse(t):t;throw e}))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,e),r}(),e.exports=r},3:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=c(e);return r=t?(r=c(this).constructor,Reflect.construct(o,arguments,r)):o.apply(this,arguments),o=this,!(r=r)||"object"!==n(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):r}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=r(421);r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,a);var e,t=i(r);function r(){return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return(e=[{key:"request",value:function(e,t){var r=this.connection,n=this.options.Headers;if(!r||!n)throw new Error("Please pass angular's 'http' (instance) and and object with 'Headers' (class) to feathers-rest");var o=e.url,i=(t=void 0===(t=t.connection)?{}:t,n=new n(Object.assign({Accept:"application/json"},this.options.headers,e.headers,t.headers)),Object.assign({method:e.method,body:e.body},t,{headers:n}));return new Promise((function(e,t){r.request(o,i).subscribe(e,t)})).then((function(e){return e.json()})).catch((function(e){throw!((e=e.response||e)instanceof Error)&&e.json()||e}))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,e),r}(),e.exports=r},167:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=c(e);return r=t?(r=c(this).constructor,Reflect.construct(o,arguments,r)):o.apply(this,arguments),o=this,!(r=r)||"object"!==n(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):r}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=r(421);r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,a);var e,t=i(r);function r(){return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return(e=[{key:"request",value:function(e,t){return t=Object.assign({url:e.url,method:e.method,data:e.body,headers:Object.assign({Accept:"application/json"},this.options.headers,e.headers)},t.connection),this.connection.request(t).then((function(e){return e.data})).catch((function(e){throw!((e=e.response||e)instanceof Error)&&e.data||e}))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,e),r}(),e.exports=r},421:function(e,t,r){var n=r(126),o=r(441).Unavailable,i=r(575)._,c=r(575).stripSlashes,a=r(441).convert;function u(e){if("ECONNREFUSED"===e.code)throw new o(e.message,i.pick(e,"address","port","config"));throw a(e)}r=function(){function e(t){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.name=c(t.name),this.options=t.options,this.connection=t.connection,this.base="".concat(t.base,"/").concat(this.name)}var t;return(t=[{key:"makeUrl",value:function(e,t){e=e||{};var r=this.base;return null!=t&&(r+="/".concat(encodeURIComponent(t))),r+this.getQuery(e)}},{key:"getQuery",value:function(e){return 0===Object.keys(e).length?"":(e=n.stringify(e),"?".concat(e))}},{key:"find",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};return this.request({url:this.makeUrl(t.query),method:"GET",headers:Object.assign({},t.headers)},t).catch(u)}},{key:"get",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:{};return void 0===e?Promise.reject(new Error("id for 'get' can not be undefined")):this.request({url:this.makeUrl(r.query,e),method:"GET",headers:Object.assign({},r.headers)},r).catch(u)}},{key:"create",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:{};return this.request({url:this.makeUrl(r.query),body:e,method:"POST",headers:Object.assign({"Content-Type":"application/json"},r.headers)},r).catch(u)}},{key:"update",value:function(e,t,r){var n=2<arguments.length&&void 0!==r?r:{};return void 0===e?Promise.reject(new Error("id for 'update' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(n.query,e),body:t,method:"PUT",headers:Object.assign({"Content-Type":"application/json"},n.headers)},n).catch(u)}},{key:"patch",value:function(e,t,r){var n=2<arguments.length&&void 0!==r?r:{};return void 0===e?Promise.reject(new Error("id for 'patch' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(n.query,e),body:t,method:"PATCH",headers:Object.assign({"Content-Type":"application/json"},n.headers)},n).catch(u)}},{key:"remove",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:{};return void 0===e?Promise.reject(new Error("id for 'remove' can not be undefined, only 'null' when removing multiple entries")):this.request({url:this.makeUrl(r.query,e),method:"DELETE",headers:Object.assign({},r.headers)},r).catch(u)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}(),e.exports=r},798:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=c(e);return r=t?(r=c(this).constructor,Reflect.construct(o,arguments,r)):o.apply(this,arguments),o=this,!(r=r)||"object"!==n(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):r}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=r(421);r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,a);var e,t=i(r);function r(){return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return(e=[{key:"request",value:function(e,t){return(t=Object.assign({},e,t.connection)).headers=Object.assign({Accept:"application/json"},this.options.headers,t.headers),e.body&&(t.body=JSON.stringify(e.body)),(0,this.connection)(e.url,t).then(this.checkStatus).then((function(e){return 204===e.status?null:e.json()}))}},{key:"checkStatus",value:function(e){return e.ok?e:e.json().catch((function(){return new(errors[e.status]||Error)("JSON parsing error")})).then((function(t){throw t.response=e,t}))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,e),r}(),e.exports=r},357:function(e,t,r){var n=r(63),o=r(467),i=r(364),c=r(798),a=r(167),u=r(3),s=r(421),f={jquery:n,superagent:o,request:i,fetch:c,axios:a,angular:u,angularHttpClient:r=r(977)};function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t={Base:s};return Object.keys(f).forEach((function(r){t[r]=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:f[r];if(!t)throw new Error("".concat(r," has to be provided to feathers-rest"));function i(r){return new o({base:e,name:r,connection:t,options:n})}function c(e){if("function"==typeof e.defaultService)throw new Error("Only one default client provider can be configured");e.rest=t,e.defaultService=i}return"function"==typeof n&&(o=n,n={}),c.Service=o,c.service=i,c}})),t}e.exports=Object.assign(l,{SuperagentClient:o,FetchClient:c,jQueryClient:n,RequestClient:i,AxiosClient:a,AngularClient:u,AngularHttpClient:r}),e.exports.default=l},63:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=c(e);return r=t?(r=c(this).constructor,Reflect.construct(o,arguments,r)):o.apply(this,arguments),o=this,!(r=r)||"object"!==n(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):r}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=r(421);r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,a);var e,t=i(r);function r(){return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return(e=[{key:"request",value:function(e,t){var r=this,n=(t=void 0===(n=t.connection)?{}:n,Object.assign({},e.headers,this.options.headers,t.headers)),o=Object.assign({dataType:e.type||"json"},t,e,{headers:n});return e.body&&(o.data=JSON.stringify(e.body),o.contentType="application/json"),delete o.type,delete o.body,new Promise((function(e,t){r.connection.ajax(o).then(e,(function(e){var r=e.responseText;try{r=JSON.parse(r)}catch(t){r=new Error(e.responseText)}r.xhr=r.response=e,t(r)}))}))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,e),r}(),e.exports=r},364:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=c(e);return r=t?(r=c(this).constructor,Reflect.construct(o,arguments,r)):o.apply(this,arguments),o=this,!(r=r)||"object"!==n(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):r}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=r(421);r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,a);var e,t=i(r);function r(){return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return(e=[{key:"request",value:function(e,t){var r=this;return new Promise((function(n,o){var i=void 0===(i=t.connection)?{}:i;i=Object.assign({},e.headers,i.headers),r.connection(Object.assign({json:!0},e,t.connection,{headers:i}),(function(e,t,r){return e?o(e):!e&&400<=t.statusCode?"string"==typeof r?o(new Error(r)):(r.response=t,o(Object.assign(new Error(r.message),r))):void n(r)}))}))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,e),r}(),e.exports=r},467:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=c(e);return r=t?(r=c(this).constructor,Reflect.construct(o,arguments,r)):o.apply(this,arguments),o=this,!(r=r)||"object"!==n(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):r}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=r(421);r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,a);var e,t=i(r);function r(){return function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return(e=[{key:"request",value:function(e,t){var r=this.connection(e.method,e.url).set(this.options.headers||{}).set("Accept","application/json").set(t.connection||{}).set(e.headers||{}).type(e.type||"json");return new Promise((function(t,n){r.set(e.headers),e.body&&r.send(e.body),r.end((function(e,r){if(e){try{var o=e.response;(e=JSON.parse(e.response.text)).response=o}catch(e){}return n(e)}t(r&&r.body)}))}))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,e),r}(),e.exports=r},378:function(e){var t=36e5,r=864e5;function n(e,t,r,n){return t=1.5*r<=t,Math.round(e/r)+" "+n+(t?"s":"")}e.exports=function(e,o){o=o||{};var i=typeof e;if("string"==i&&0<e.length)return function(e){if(!(100<(e=String(e)).length)&&(e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e))){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*r;case"hours":case"hour":case"hrs":case"hr":case"h":return n*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}(e);if("number"==i&&isFinite(e))return(o.long?function(e){var o=Math.abs(e);return r<=o?n(e,o,r,"day"):t<=o?n(e,o,t,"hour"):6e4<=o?n(e,o,6e4,"minute"):1e3<=o?n(e,o,1e3,"second"):e+" ms"}:function(e){var n=Math.abs(e);return r<=n?Math.round(e/r)+"d":t<=n?Math.round(e/t)+"h":6e4<=n?Math.round(e/6e4)+"m":1e3<=n?Math.round(e/1e3)+"s":e+"ms"})(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},527:function(e,t,r){"use strict";var n=String.prototype.replace,o=/%20/g,i=r(493);r={RFC1738:"RFC1738",RFC3986:"RFC3986"},e.exports=i.assign({default:r.RFC3986,formatters:{RFC1738:function(e){return n.call(e,o,"+")},RFC3986:function(e){return String(e)}}},r)},126:function(e,t,r){"use strict";var n=r(845),o=r(166);r=r(527),e.exports={formats:r,parse:o,stringify:n}},166:function(e,t,r){"use strict";function n(e,t){return e&&"string"==typeof e&&t.comma&&-1<e.indexOf(",")?e.split(","):e}function o(e,t,r,o){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,u=0<r.depth&&/(\[[^[\]]*])/.exec(i),s=[];if(e=u?i.slice(0,u.index):i){if(!r.plainObjects&&c.call(Object.prototype,e)&&!r.allowPrototypes)return;s.push(e)}for(var f=0;0<r.depth&&null!==(u=a.exec(i))&&f<r.depth;){if(f+=1,!r.plainObjects&&c.call(Object.prototype,u[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(u[1])}return u&&s.push("["+i.slice(u.index)+"]"),function(e,t,r,o){for(var i=o?t:n(t,r),c=e.length-1;0<=c;--c){var a,u,s,f=e[c];"[]"===f&&r.parseArrays?a=[].concat(i):(a=r.plainObjects?Object.create(null):{},u="["===f.charAt(0)&&"]"===f.charAt(f.length-1)?f.slice(1,-1):f,s=parseInt(u,10),r.parseArrays||""!==u?!isNaN(s)&&f!==u&&String(s)===u&&0<=s&&r.parseArrays&&s<=r.arrayLimit?(a=[])[s]=i:a[u]=i:a={0:i}),i=a}return i}(s,t,r,o)}}var i=r(493),c=Object.prototype.hasOwnProperty,a=Array.isArray,u={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1};e.exports=function(e,t){var r=function(e){if(!e)return u;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=(void 0===e.charset?u:e).charset;return{allowDots:void 0===e.allowDots?u.allowDots:!!e.allowDots,allowPrototypes:("boolean"==typeof e.allowPrototypes?e:u).allowPrototypes,arrayLimit:("number"==typeof e.arrayLimit?e:u).arrayLimit,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:u).charsetSentinel,comma:("boolean"==typeof e.comma?e:u).comma,decoder:("function"==typeof e.decoder?e:u).decoder,delimiter:("string"==typeof e.delimiter||i.isRegExp(e.delimiter)?e:u).delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:u.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof e.interpretNumericEntities?e:u).interpretNumericEntities,parameterLimit:("number"==typeof e.parameterLimit?e:u).parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:("boolean"==typeof e.plainObjects?e:u).plainObjects,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:u).strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var s="string"==typeof e?function(e,t){var r,o,s,f,l={},p=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,y=(e=t.parameterLimit===1/0?void 0:t.parameterLimit,p.split(t.delimiter,e)),d=-1,h=t.charset;if(t.charsetSentinel)for(r=0;r<y.length;++r)0===y[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===y[r]?h="utf-8":"utf8=%26%2310003%3B"===y[r]&&(h="iso-8859-1"),d=r,r=y.length);for(r=0;r<y.length;++r)r!==d&&((f=-1===(f=-1===(f=(o=y[r]).indexOf("]="))?o.indexOf("="):f+1)?(s=t.decoder(o,u.decoder,h,"key"),t.strictNullHandling?null:""):(s=t.decoder(o.slice(0,f),u.decoder,h,"key"),i.maybeMap(n(o.slice(f+1),t),(function(e){return t.decoder(e,u.decoder,h,"value")}))))&&t.interpretNumericEntities&&"iso-8859-1"===h&&(f=f.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))),-1<o.indexOf("[]=")&&(f=a(f)?[f]:f),c.call(l,s)?l[s]=i.combine(l[s],f):l[s]=f);return l}(e,r):e,f=r.plainObjects?Object.create(null):{},l=Object.keys(s),p=0;p<l.length;++p){var y=o(y=l[p],s[y],r,"string"==typeof e);f=i.merge(f,y,r)}return i.compact(f)}},845:function(e,t,r){"use strict";function n(e,t){f.apply(e,s(t)?t:[t])}function o(e,t,r,c,a,u,f,l,y,d,h,b,m){var v=e;if("function"==typeof f?v=f(t,v):v instanceof Date?v=d(v):"comma"===r&&s(v)&&(v=i.maybeMap(v,(function(e){return e instanceof Date?d(e):e})).join(",")),null===v){if(c)return u&&!b?u(t,p.encoder,m,"key"):t;v=""}if("string"==typeof(e=v)||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e||i.isBuffer(v))return u?[h(b?t:u(t,p.encoder,m,"key"))+"="+h(u(v,p.encoder,m,"value"))]:[h(t)+"="+h(String(v))];var g,O=[];if(void 0===v)return O;g=s(f)?f:(e=Object.keys(v),l?e.sort(l):e);for(var j=0;j<g.length;++j){var w=g[j],C=v[w];a&&null===C||n(O,o(C,w=s(v)?"function"==typeof r?r(t,w):t:t+(y?"."+w:"["+w+"]"),r,c,a,u,f,l,y,d,h,b,m))}return O}var i=r(493),c=r(527),a=Object.prototype.hasOwnProperty,u={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Array.isArray,f=Array.prototype.push,l=Date.prototype.toISOString,p=(r=c.default,{addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:r,formatter:c.formatters[r],indices:!1,serializeDate:function(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1});e.exports=function(e,t){var r=e,i=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=c.default;if(void 0!==e.format){if(!a.call(c.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=c.formatters[r];return r=p.filter,"function"!=typeof e.filter&&!s(e.filter)||(r=e.filter),{addQueryPrefix:("boolean"==typeof e.addQueryPrefix?e:p).addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:p).charsetSentinel,delimiter:(void 0===e.delimiter?p:e).delimiter,encode:("boolean"==typeof e.encode?e:p).encode,encoder:("function"==typeof e.encoder?e:p).encoder,encodeValuesOnly:("boolean"==typeof e.encodeValuesOnly?e:p).encodeValuesOnly,filter:r,formatter:n,serializeDate:("function"==typeof e.serializeDate?e:p).serializeDate,skipNulls:("boolean"==typeof e.skipNulls?e:p).skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:p).strictNullHandling}}(t);"function"==typeof i.filter?r=(0,i.filter)("",r):s(i.filter)&&(y=i.filter);var f=[];if("object"!=typeof r||null===r)return"";e=t&&t.arrayFormat in u?t.arrayFormat:t&&"indices"in t&&!t.indices?"repeat":"indices";var l=u[e],y=y||Object.keys(r);i.sort&&y.sort(i.sort);for(var d=0;d<y.length;++d){var h=y[d];i.skipNulls&&null===r[h]||n(f,o(r[h],h,l,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.formatter,i.encodeValuesOnly,i.charset))}return t=f.join(i.delimiter),e=!0===i.addQueryPrefix?"?":"",i.charsetSentinel&&("iso-8859-1"===i.charset?e+="utf8=%26%2310003%3B&":e+="utf8=%E2%9C%93&"),0<t.length?e+t:""}},493:function(e){"use strict";function t(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r}var r=Object.prototype.hasOwnProperty,n=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();e.exports={arrayToObject:t,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],o=0;o<t.length;++o)for(var i=t[o],c=i.obj[i.prop],a=Object.keys(c),u=0;u<a.length;++u){var s=a[u],f=c[s];"object"==typeof f&&null!==f&&-1===r.indexOf(f)&&(t.push({obj:c,prop:s}),r.push(f))}return function(e){for(;1<e.length;){var t=e.pop(),r=t.obj[t.prop];if(n(r)){for(var o=[],i=0;i<r.length;++i)void 0!==r[i]&&o.push(r[i]);t.obj[t.prop]=o}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r){if(0===e.length)return e;var n=e;if("symbol"==typeof e?n=Symbol.prototype.toString.call(e):"string"!=typeof e&&(n=String(e)),"iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var i="",c=0;c<n.length;++c){var a=n.charCodeAt(c);45===a||46===a||95===a||126===a||48<=a&&a<=57||65<=a&&a<=90||97<=a&&a<=122?i+=n.charAt(c):a<128?i+=o[a]:a<2048?i+=o[192|a>>6]+o[128|63&a]:a<55296||57344<=a?i+=o[224|a>>12]+o[128|a>>6&63]+o[128|63&a]:(c+=1,a=65536+((1023&a)<<10|1023&n.charCodeAt(c)),i+=o[240|a>>18]+o[128|a>>12&63]+o[128|a>>6&63]+o[128|63&a])}return i},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(n(e)){for(var r=[],o=0;o<e.length;o+=1)r.push(t(e[o]));return r}return t(e)},merge:function e(o,i,c){if(!i)return o;if("object"!=typeof i){if(n(o))o.push(i);else{if(!o||"object"!=typeof o)return[o,i];(c&&(c.plainObjects||c.allowPrototypes)||!r.call(Object.prototype,i))&&(o[i]=!0)}return o}if(!o||"object"!=typeof o)return[o].concat(i);var a=o;return n(o)&&!n(i)&&(a=t(o,c)),n(o)&&n(i)?(i.forEach((function(t,n){var i;r.call(o,n)?(i=o[n])&&"object"==typeof i&&t&&"object"==typeof t?o[n]=e(i,t,c):o.push(t):o[n]=t})),o):Object.keys(i).reduce((function(t,n){var o=i[n];return r.call(t,n)?t[n]=e(t[n],o,c):t[n]=o,t}),a)}}}},t={},function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(905);var e,t}));