!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.feathers=t():e.feathers=t()}(this,(function(){return e={898:function(e,t,n){var r;t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(r=!1,function(){r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=n(604)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},604:function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){function t(e){var n,r=null;function i(){for(var e,r,o,c,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];i.enabled&&(e=i,o=(r=Number(new Date))-(n||r),e.diff=o,e.prev=n,e.curr=r,n=r,s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O"),s[c=0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return"%";c++;var o=t.formatters[r];return"function"==typeof o&&(r=s[c],n=o.call(e,r),s.splice(c,1),c--),n})),t.formatArgs.call(e,s),(e.log||t.log).apply(e,s))}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=o,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===r?t.enabled(e):r},set:function(e){r=e}}),"function"==typeof t.init&&t.init(i),i}function o(e,n){return(e=t(this.namespace+(void 0===n?":":n)+e)).log=this.log,e}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((t.debug=t).default=t).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(r(t.names.map(i)),r(t.skips.map(i).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(378),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},753:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return t=new RegExp("(?:&?)".concat(t,"=([^&]*)")),null===(e=e.hash?e.hash.match(t):null)?[null,t]:[r(e,2)[1],t]}Object.defineProperty(t,"__esModule",{value:!0}),t.AuthenticationClient=void 0;var c=n(441),a=n(826);n=function(){function e(t,n){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=t.io||t.primus,o=new a.StorageWrapper(t.get("storage")||n.storage);this.app=t,this.options=n,this.authenticated=!1,this.app.set("storage",o),r&&this.handleSocket(r)}var t;return(t=[{key:"handleSocket",value:function(e){var t=this,n=this.app.io?"connect":"open",r=this.app.io?"disconnect":"disconnection";e.on(r,(function(){var r=new Promise((function(t){return e.once(n,(function(e){return t(e)}))})).then((function(){return t.authenticated?t.reAuthenticate(!0):null}));t.app.set("authentication",r)}))}},{key:"getFromLocation",value:function(e){var t=(n=r(i(e,this.options.locationKey),2))[0],n=n[1];return null!==t?(e.hash=e.hash.replace(n,""),Promise.resolve(t)):(t=(n=r(i(e,this.options.locationErrorKey),2))[0],n=n[1],null!==t?(e.hash=e.hash.replace(n,""),Promise.reject(new c.NotAuthenticated(decodeURIComponent(t)))):Promise.resolve(null))}},{key:"setAccessToken",value:function(e){return this.storage.setItem(this.options.storageKey,e)}},{key:"getAccessToken",value:function(){var e=this;return this.storage.getItem(this.options.storageKey).then((function(t){return!t&&"undefined"!=typeof window&&window.location?e.getFromLocation(window.location):t||null}))}},{key:"removeAccessToken",value:function(){return this.storage.removeItem(this.options.storageKey)}},{key:"reset",value:function(){return this.app.set("authentication",null),this.authenticated=!1,Promise.resolve(null)}},{key:"handleError",value:function(e,t){var n=this;if(401!==e.code&&403!==e.code)return Promise.reject(e);var r=this.removeAccessToken().then((function(){return n.reset()}));return"logout"===t?r:r.then((function(){return Promise.reject(e)}))}},{key:"reAuthenticate",value:function(e,t){var n=this,r=(e=0<arguments.length&&void 0!==e&&e,1<arguments.length?t:void 0);return(t=this.app.get("authentication"))&&!0!==e?t:this.getAccessToken().then((function(e){if(!e)throw new c.NotAuthenticated("No accessToken found in storage");return n.authenticate({strategy:r||n.options.jwtStrategy,accessToken:e})}))}},{key:"authenticate",value:function(e,t){var n=this;return e?(t=this.service.create(e,t).then((function(e){var t=e.accessToken;return n.authenticated=!0,n.app.emit("login",e),n.app.emit("authenticated",e),n.setAccessToken(t).then((function(){return e}))})).catch((function(e){return n.handleError(e,"authenticate")})),this.app.set("authentication",t),t):this.reAuthenticate()}},{key:"logout",value:function(){var e=this;return Promise.resolve(this.app.get("authentication")).then((function(){return e.service.remove(null).then((function(t){return e.removeAccessToken().then((function(){return e.reset()})).then((function(){return e.app.emit("logout",t),t}))}))})).catch((function(t){return e.handleError(t,"logout")}))}},{key:"service",get:function(){return this.app.service(this.options.path)}},{key:"storage",get:function(){return this.app.get("storage")}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),t.AuthenticationClient=n},93:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authentication=void 0;var r=n(575);t.authentication=function(){return function(e){var t=e.app,n=e.params,o=e.path,i=e.method,c=e.app.authentication;return r.stripSlashes(c.options.path)===o&&"create"===i?e:Promise.resolve(t.get("authentication")).then((function(t){return t&&(e.params=Object.assign({},t,n)),e}))}}},307:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.populateHeader=t.authentication=void 0;var r=n(93);Object.defineProperty(t,"authentication",{enumerable:!0,get:function(){return r.authentication}});var o=n(442);Object.defineProperty(t,"populateHeader",{enumerable:!0,get:function(){return o.populateHeader}})},442:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.populateHeader=void 0,t.populateHeader=function(){return function(e){var t=e.app,n=e.params.accessToken,r=t.authentication;return t.rest&&n&&(r=(t=r.options).scheme,t=t.header,r="".concat(r," ").concat(n),e.params.headers=Object.assign({},(n=r,(r=t)in(t={})?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t),e.params.headers)),e}}},503:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=t.defaultStorage=t.hooks=t.MemoryStorage=t.AuthenticationClient=t.getDefaultStorage=void 0;var c=n(753);Object.defineProperty(t,"AuthenticationClient",{enumerable:!0,get:function(){return c.AuthenticationClient}});var a=i(n(307));t.hooks=a;var s=n(826);Object.defineProperty(t,"MemoryStorage",{enumerable:!0,get:function(){return s.MemoryStorage}}),t.getDefaultStorage=function(){try{return new s.StorageWrapper(window.localStorage)}catch(e){}return new s.MemoryStorage},t.defaultStorage=t.getDefaultStorage(),t.defaults={header:"Authorization",scheme:"Bearer",storageKey:"feathers-jwt",locationKey:"access_token",locationErrorKey:"error",jwtStrategy:"jwt",path:"/authentication",Authentication:c.AuthenticationClient,storage:t.defaultStorage},n=function(e){e=0<arguments.length&&void 0!==e?e:{};var n=Object.assign({},t.defaults,e),r=n.Authentication;return function(e){var t=new r(e,n);e.authentication=t,e.authenticate=t.authenticate.bind(t),e.reAuthenticate=t.reAuthenticate.bind(t),e.logout=t.logout.bind(t),e.hooks({before:{all:[a.authentication(),a.populateHeader()]}})}},t.default=n,e.exports=Object.assign(n,e.exports)},826:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.StorageWrapper=t.MemoryStorage=void 0;var i=function(){function e(){n(this,e),this.store={}}return o(e,[{key:"getItem",value:function(e){return Promise.resolve(this.store[e])}},{key:"setItem",value:function(e,t){return Promise.resolve(this.store[e]=t)}},{key:"removeItem",value:function(e){var t=this.store[e];return delete this.store[e],Promise.resolve(t)}}]),e}();t.MemoryStorage=i,i=function(){function e(t){n(this,e),this.storage=t}return o(e,[{key:"getItem",value:function(e){return Promise.resolve(this.storage.getItem(e))}},{key:"setItem",value:function(e,t){return Promise.resolve(this.storage.setItem(e,t))}},{key:"removeItem",value:function(e){return Promise.resolve(this.storage.removeItem(e))}}]),e}(),t.StorageWrapper=i},219:function(e,t,n){var r=n(845),o=n(441),i=n(503),c=n(357),a=n(105);n=n(849),Object.assign(r,{errors:o,socketio:a,primus:n,rest:c,authentication:i}),e.exports=r},196:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.enableHooks=t.processHooks=t.getHooks=t.isHookObject=t.convertHookData=t.makeArguments=t.defaultMakeArguments=t.createHookObject=t.ACTIVATE_HOOKS=void 0;var o=n(541),i=(n=o._).each,c=n.pick;function a(e){var t=[];return void 0!==e.id&&t.push(e.id),e.data&&t.push(e.data),t.push(e.params||{}),t}function s(e){var t={};return Array.isArray(e)?t={all:e}:"object"!==r(e)?t={all:[e]}:i(e,(function(e,n){t[n]=Array.isArray(e)?e:[e]})),t}function u(e){return"object"===r(e)&&"string"==typeof e.method&&"string"==typeof e.type}t.ACTIVATE_HOOKS=o.createSymbol("__feathersActivateHooks"),t.createHookObject=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={};return Object.defineProperty(n,"toJSON",{value:function(){return c(this,"type","method","path","params","id","data","result","error")}}),Object.assign(n,t,{method:e,get path(){var e=t.app,n=t.service;return n&&e&&e.services?Object.keys(e.services).find((function(t){return e.services[t]===n})):null}})},t.defaultMakeArguments=a,t.makeArguments=function(e){switch(e.method){case"find":return[e.params];case"get":case"remove":return[e.id,e.params];case"update":case"patch":return[e.id,e.data,e.params];case"create":return[e.data,e.params]}return a(e)},t.convertHookData=s,t.isHookObject=u,t.getHooks=function(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]&&arguments[4];return e=e.__hooks[n][r]||[],r=t.__hooks[n][r]||[],o?r.concat(e):e.concat(r)},t.processHooks=function(e,t){function n(e){if(e){if(!u(e))throw new Error("".concat(o.type," hook for '").concat(o.method,"' method returned invalid hook object"));o=e}return o}var r=this,o=t;return e.reduce((function(e,t){var o=t.bind(r);return e.then((function(e){return o(e)})).then(n)}),Promise.resolve(o)).then((function(){return o})).catch((function(e){throw e.hook=o,e}))},t.enableHooks=function(e,t,n){if("function"==typeof e.hooks)return e;var r={};return n.forEach((function(e){r[e]={}})),Object.defineProperty(e,"__hooks",{configurable:!0,value:r,writable:!0}),Object.assign(e,{hooks:function(e){var n=this;return i(e,(function(e,r){if(!n.__hooks[r])throw new Error("'".concat(r,"' is not a valid hook type"));var o=s(e);i(o,(function(e,n){if("all"!==n&&-1===t.indexOf(n))throw new Error("'".concat(n,"' is not a valid hook method"))})),t.forEach((function(e){var t=n.__hooks[r][e]||(n.__hooks[r][e]=[]);o.all&&t.push.apply(t,o.all),o[e]&&t.push.apply(t,o[e])}))})),this}})}},575:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},c=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.hooks=void 0,i=i(n(196)),c(n(541),t),t.hooks=i},541:function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.createSymbol=t.makeUrl=t.isPromise=t._=t.stripSlashes=void 0,t.stripSlashes=function(e){return e.replace(/^(\/+)|(\/+)$/g,"")},t._={each:function(e,n){e&&"function"==typeof e.forEach?e.forEach(n):t._.isObject(e)&&Object.keys(e).forEach((function(t){return n(e[t],t)}))},some:function(e,t){return Object.keys(e).map((function(t){return[e[t],t]})).some((function(e){e=(n=o(e,2))[0];var n=n[1];return t(e,n)}))},every:function(e,t){return Object.keys(e).map((function(t){return[e[t],t]})).every((function(e){e=(n=o(e,2))[0];var n=n[1];return t(e,n)}))},keys:function(e){return Object.keys(e)},values:function(e){return t._.keys(e).map((function(t){return e[t]}))},isMatch:function(e,n){return t._.keys(n).every((function(t){return e[t]===n[t]}))},isEmpty:function(e){return 0===t._.keys(e).length},isObject:function(e){return"object"===r(e)&&!Array.isArray(e)&&null!==e},isObjectOrArray:function(e){return"object"===r(e)&&null!==e},extend:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign.apply(Object,[e].concat(n))},omit:function(e){for(var n=t._.extend({},e),r=arguments.length,o=new Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.forEach((function(e){return delete n[e]})),n},pick:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})},merge:function(e,r){return t._.isObject(e)&&t._.isObject(r)&&Object.keys(r).forEach((function(o){t._.isObject(r[o])?(e[o]||Object.assign(e,n({},o,{})),t._.merge(e[o],r[o])):Object.assign(e,n({},o,r[o]))})),e}},t.isPromise=function(e){return t._.isObject(e)&&"function"==typeof e.then},t.makeUrl=function(e){var n=(i="function"==typeof(o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).get?o.get.bind(o):function(){})("env")||"production",r=i("host")||process.env.HOST_NAME||"localhost",o="development"===n||"test"===n?"http":"https",i=i("port")||process.env.PORT||3030;return i="development"===n||"test"===n?":".concat(i):"",e=e||"","".concat(o,"://").concat(r).concat(i,"/").concat(t.stripSlashes(e))},t.createSymbol=function(e){return"undefined"!=typeof Symbol?Symbol(e):e}},441:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(898)("@feathersjs/errors");function i(e,t,n,c,a){var s,u,f;(e=e||"Error")instanceof Error?(u=e.message||"Error",e.errors&&(s=e.errors)):"object"===r(e)?(u=e.message||"Error",a=e):u=e,a&&((f=JSON.parse(JSON.stringify(a))).errors?(s=f.errors,delete f.errors):a.errors&&(s=JSON.parse(JSON.stringify(a.errors)))),this.type="FeathersError",this.name=t,this.message=u,this.code=n,this.className=c,this.data=f,this.errors=s||{},o("".concat(this.name,"(").concat(this.code,"): ").concat(this.message)),o(this.errors),Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack=(new Error).stack}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e}function a(e,t){i.call(this,e,"BadRequest",400,"bad-request",t)}function s(e,t){i.call(this,e,"NotAuthenticated",401,"not-authenticated",t)}function u(e,t){i.call(this,e,"PaymentError",402,"payment-error",t)}function f(e,t){i.call(this,e,"Forbidden",403,"forbidden",t)}function l(e,t){i.call(this,e,"NotFound",404,"not-found",t)}function p(e,t){i.call(this,e,"MethodNotAllowed",405,"method-not-allowed",t)}function h(e,t){i.call(this,e,"NotAcceptable",406,"not-acceptable",t)}function y(e,t){i.call(this,e,"Timeout",408,"timeout",t)}function d(e,t){i.call(this,e,"Conflict",409,"conflict",t)}function v(e,t){i(this,e,"Gone",410,"gone")}function m(e,t){i.call(this,e,"LengthRequired",411,"length-required",t)}function b(e,t){i.call(this,e,"Unprocessable",422,"unprocessable",t)}function g(e,t){i.call(this,e,"TooManyRequests",429,"too-many-requests",t)}function O(e,t){i.call(this,e,"GeneralError",500,"general-error",t)}function w(e,t){i.call(this,e,"NotImplemented",501,"not-implemented",t)}function j(e,t){i.call(this,e,"BadGateway",502,"bad-gateway",t)}function k(e,t){i.call(this,e,"Unavailable",503,"unavailable",t)}c(i,Error),Object.defineProperty(i.prototype,"toJSON",{value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}}),c(a,i),c(s,i),c(u,i),c(f,i),c(l,i),c(p,i),c(h,i),c(y,i),c(d,i),c(v,i),c(m,i),c(b,i),c(g,i),c(O,i),c(w,i),c(j,i),c(k,i);var S={FeathersError:i,BadRequest:a,NotAuthenticated:s,PaymentError:u,Forbidden:f,NotFound:l,MethodNotAllowed:p,NotAcceptable:h,Timeout:y,Conflict:d,Gone:v,LengthRequired:m,Unprocessable:b,TooManyRequests:g,GeneralError:O,NotImplemented:w,BadGateway:j,Unavailable:k,400:a,401:s,402:u,403:f,404:l,405:p,406:h,408:y,409:d,410:v,411:m,422:b,429:g,500:O,501:w,502:j,503:k};e.exports=Object.assign({convert:function(e){if(!e)return e;var t=(t=S[e.name])?new t(e.message,e.data):new Error(e.message||e);return"object"===r(e)&&Object.assign(t,e),t}},S)},495:function(e,t,n){var r=n(898)("feathers:application"),o=n(575).stripSlashes,i=n(425),c=n(944),a=n(341),s=n(803),u=i.extend({create:null});i={init:function(){Object.assign(this,{version:s,methods:["find","get","create","update","patch","remove"],mixins:[],services:{},providers:[],_setup:!1,settings:{}}),this.configure(a()),this.configure(c())},get:function(e){return this.settings[e]},set:function(e,t){return this.settings[e]=t,this},disable:function(e){return this.settings[e]=!1,this},disabled:function(e){return!this.settings[e]},enable:function(e){return this.settings[e]=!0,this},enabled:function(e){return!!this.settings[e]},configure:function(e){return e.call(this,this),this},service:function(e,t){if(void 0!==t)throw new Error("Registering a new service with `app.service(path, service)` is no longer supported. Use `app.use(path, service)` instead.");return t=o(e)||"/",void 0===(e=this.services[t])&&"function"==typeof this.defaultService?this.use(t,this.defaultService(t)).service(t):e},use:function(e,t,n){var i=this,c=2<arguments.length&&void 0!==n?n:{};if("string"!=typeof e)throw new Error("'".concat(e,"' is not a valid service path."));var a=o(e)||"/",s="function"==typeof t.service&&t.services,f=this.methods.concat("setup").some((function(e){return"function"==typeof t[e]}));if(s){var l=t;return Object.keys(l.services).forEach((function(e){return i.use("".concat(a,"/").concat(e),l.service(e))})),this}if(!f)throw new Error("Invalid service object passed for path `".concat(a,"`"));var p=u.isPrototypeOf(t)?t:u.extend(t);return r("Registering new service at `".concat(a,"`")),this.mixins.forEach((function(e){return e.call(i,p,a,c)})),"function"==typeof p._setup&&p._setup(this,a),this.providers.forEach((function(e){return e.call(i,p,a,c)})),this._isSetup&&"function"==typeof p.setup&&(r("Setting up service for `".concat(a,"`")),p.setup(this,a)),this.services[a]=p,this},setup:function(){var e=this;return Object.keys(this.services).forEach((function(t){var n=e.services[t];r("Setting up service for `".concat(t,"`")),"function"==typeof n.setup&&n.setup(e,t)})),this._isSetup=!0,this}},e.exports=i},944:function(e,t,n){var r=n(699).EventEmitter,o=n(425),i=t.eventHook=function(){return function(e){var t=e.app,n=e.service,r=null===e.event?e.event:t.eventMappings[e.method];t=n._hookEvents&&-1!==n._hookEvents.indexOf(r),r&&t&&"error"!==e.type&&(Array.isArray(e.result)?e.result:[e.result]).forEach((function(t){return n.emit(r,t,e)}))}},c=t.eventMixin=function(e){var t,n;e._serviceEvents||(t=this,n="function"==typeof e.on&&"function"==typeof e.emit,"function"!=typeof e.mixin||n||e.mixin(r.prototype),Object.defineProperties(e,{_serviceEvents:{value:Array.isArray(e.events)?e.events.slice():[]},_hookEvents:{value:[]}}),Object.keys(t.eventMappings).forEach((function(n){var r=t.eventMappings[n],o=-1!==e._serviceEvents.indexOf(r);"function"!=typeof e[n]||o||(e._serviceEvents.push(r),e._hookEvents.push(r))})))};e.exports=function(){return function(e){Object.assign(e,{eventMappings:{create:"created",update:"updated",remove:"removed",patch:"patched"}}),e.hooks({finally:i()}),o.mixin(r.prototype,e),e.mixins.push(c)}}},392:function(e,t,n){var r=n(575)._;e.exports=[function(e){var t=e.service,n=e.method,r=t.methods[n];return e.arguments.forEach((function(t,n){e[r[n]]=t})),e.params||(e.params={}),e},function(e){var t=e.service,n=e.method,o=e.path;if((t=t.methods[n]).includes("id")&&void 0===e.id)throw new Error("An id must be provided to the '".concat(o,".").concat(n,"' method"));if(t.includes("data")&&!r.isObjectOrArray(e.data))throw new Error("A data object must be provided to the '".concat(o,".").concat(n,"' method"));return e}]},341:function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){var t=e.app,n=e.service,r=e.method,o=e.original;return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=t.hookTypes.reduce((function(t,n){var r=e[n]||[];return t[n]=Array.isArray(r)?r:[r],t}),{});return function(){for(var e=arguments.length,c=new Array(e),a=0;a<e;a++)c[a]=arguments[a];var l=!0===c[c.length-1]&&c.pop(),h=f(r,{type:"before",arguments:c,service:n,app:t});return Promise.resolve(h).then((function(e){return p.call(n,u.concat(i.before),e)})).then((function(e){return void 0!==e.result?e:new Promise((function(t){var i=o||n[r],c=n.methods[r].map((function(t){return e[t]}));if(c=i.apply(n,c),!s(c))throw new Error("Service method '".concat(e.method,"' for '").concat(e.path,"' service must return a promise"));t(c)})).then((function(t){return e.result=t,e})).catch((function(t){throw t.hook=e,t}))})).then((function(e){return e=Object.assign({},e,{type:"after"}),p.call(n,i.after,e)})).catch((function(e){return e=Object.assign({},e.hook,{type:"error",original:e.hook,error:e,result:void 0}),p.call(n,i.error,e).catch((function(e){return Object.assign({},e.hook,{error:e,result:void 0})}))})).then((function(e){return p.call(n,i.finally,e).catch((function(e){return Object.assign({},e.hook,{error:e,result:void 0})}))})).then((function(e){return void 0!==e.error&&void 0===e.result?Promise.reject(l?e:e.error):l?e:e.result}))}}}var c=n(575),a=c.hooks,s=c.isPromise,u=n(392),f=a.createHookObject,l=a.getHooks,p=a.processHooks,h=a.enableHooks,y=a.ACTIVATE_HOOKS,d=t.hookMixin=function(e){var t,n,o;"function"!=typeof e.hooks&&(e.methods=Object.getOwnPropertyNames(e).filter((function(t){return"function"==typeof e[t]&&e[t][y]})).reduce((function(t,n){return t[n]=e[n][y],t}),e.methods||{}),Object.assign(e.methods,{find:["params"],get:["id","params"],create:["data","params"],update:["id","data","params"],patch:["id","data","params"],remove:["id","params"]}),t=this,o=(n=Object.keys(e.methods)).reduce((function(n,o){return"function"!=typeof e[o]||(n[o]=function(){var e=this,n=Array.from(arguments),c=e._super.bind(e);return i({app:t,service:e,method:o,original:c})({before:l(t,e,"before",o),after:l(t,e,"after",o,!0),error:l(t,e,"error",o,!0),finally:l(t,e,"finally",o,!0)}).apply(void 0,r(n))}),n}),{}),h(e,n,t.hookTypes),e.mixin(o))};e.exports=function(){return function(e){Object.assign(e,{hookTypes:["before","after","error","finally"]}),h(e,e.methods,e.hookTypes),e.mixins.push(d)}},e.exports.withHooks=i,e.exports.ACTIVATE_HOOKS=y,e.exports.activateHooks=function(e){return function(t){return Object.defineProperty(t,y,{value:e}),t}}},845:function(e,t,n){var r=n(425),o=n(495),i=n(803),c=(n=(c=n(341)).ACTIVATE_HOOKS,c.activateHooks),a=Object.create(null);function s(){var e=Object.create(a);return r.mixin(o,e),e.init(),e}s.version=i,s.ACTIVATE_HOOKS=n,s.activateHooks=c,e.exports=s,e.exports.default=s},803:function(e){e.exports="4.5.11"},849:function(e,t,n){var r=n(910);function o(e,t){if(!e)throw new Error("Primus connection needs to be provided");function n(n){return new r(Object.assign({},t,{name:n,connection:e,method:"send"}))}function o(t){if("function"==typeof t.defaultService)throw new Error("Only one default client provider can be configured");t.primus=e,t.defaultService=n}return o.Service=r,o.service=n,o}e.exports=o,e.exports.default=o},977:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);return n=t?(n=c(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,!(n=n)||"object"!==r(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):n}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=n(421);n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,a);var e,t=i(n);function n(){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return(e=[{key:"request",value:function(e,t){var n=this.connection,r=this.options.HttpHeaders;if(!n||!r)throw new Error("Please pass angular's 'httpClient' (instance) and and object with 'HttpHeaders' (class) to feathers-rest");var o=e.url,i=void 0===(i=t.connection)?{}:i,c=(i=new r(Object.assign({Accept:"application/json"},this.options.headers,e.headers,i.headers)),Object.assign({body:e.body},t.connection,{headers:i}));return new Promise((function(t,r){n.request(e.method,o,c).subscribe(t,r)})).catch((function(e){var t=e.error;if(t)throw"string"==typeof t?JSON.parse(t):t;throw e}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,e),n}(),e.exports=n},3:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);return n=t?(n=c(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,!(n=n)||"object"!==r(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):n}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=n(421);n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,a);var e,t=i(n);function n(){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return(e=[{key:"request",value:function(e,t){var n=this.connection,r=this.options.Headers;if(!n||!r)throw new Error("Please pass angular's 'http' (instance) and and object with 'Headers' (class) to feathers-rest");var o=e.url,i=(t=void 0===(t=t.connection)?{}:t,r=new r(Object.assign({Accept:"application/json"},this.options.headers,e.headers,t.headers)),Object.assign({method:e.method,body:e.body},t,{headers:r}));return new Promise((function(e,t){n.request(o,i).subscribe(e,t)})).then((function(e){return e.json()})).catch((function(e){throw!((e=e.response||e)instanceof Error)&&e.json()||e}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,e),n}(),e.exports=n},167:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);return n=t?(n=c(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,!(n=n)||"object"!==r(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):n}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=n(421);n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,a);var e,t=i(n);function n(){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return(e=[{key:"request",value:function(e,t){return t=Object.assign({url:e.url,method:e.method,data:e.body,headers:Object.assign({Accept:"application/json"},this.options.headers,e.headers)},t.connection),this.connection.request(t).then((function(e){return e.data})).catch((function(e){throw!((e=e.response||e)instanceof Error)&&e.data||e}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,e),n}(),e.exports=n},421:function(e,t,n){var r=n(126),o=n(441).Unavailable,i=n(575)._,c=n(575).stripSlashes,a=n(441).convert;function s(e){if("ECONNREFUSED"===e.code)throw new o(e.message,i.pick(e,"address","port","config"));throw a(e)}n=function(){function e(t){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.name=c(t.name),this.options=t.options,this.connection=t.connection,this.base="".concat(t.base,"/").concat(this.name)}var t;return(t=[{key:"makeUrl",value:function(e,t){e=e||{};var n=this.base;return null!=t&&(n+="/".concat(encodeURIComponent(t))),n+this.getQuery(e)}},{key:"getQuery",value:function(e){return 0===Object.keys(e).length?"":(e=r.stringify(e),"?".concat(e))}},{key:"find",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};return this.request({url:this.makeUrl(t.query),method:"GET",headers:Object.assign({},t.headers)},t).catch(s)}},{key:"get",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return void 0===e?Promise.reject(new Error("id for 'get' can not be undefined")):this.request({url:this.makeUrl(n.query,e),method:"GET",headers:Object.assign({},n.headers)},n).catch(s)}},{key:"create",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return this.request({url:this.makeUrl(n.query),body:e,method:"POST",headers:Object.assign({"Content-Type":"application/json"},n.headers)},n).catch(s)}},{key:"update",value:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};return void 0===e?Promise.reject(new Error("id for 'update' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(r.query,e),body:t,method:"PUT",headers:Object.assign({"Content-Type":"application/json"},r.headers)},r).catch(s)}},{key:"patch",value:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};return void 0===e?Promise.reject(new Error("id for 'patch' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(r.query,e),body:t,method:"PATCH",headers:Object.assign({"Content-Type":"application/json"},r.headers)},r).catch(s)}},{key:"remove",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return void 0===e?Promise.reject(new Error("id for 'remove' can not be undefined, only 'null' when removing multiple entries")):this.request({url:this.makeUrl(n.query,e),method:"DELETE",headers:Object.assign({},n.headers)},n).catch(s)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),e.exports=n},798:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);return n=t?(n=c(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,!(n=n)||"object"!==r(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):n}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=n(421);n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,a);var e,t=i(n);function n(){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return(e=[{key:"request",value:function(e,t){return(t=Object.assign({},e,t.connection)).headers=Object.assign({Accept:"application/json"},this.options.headers,t.headers),e.body&&(t.body=JSON.stringify(e.body)),(0,this.connection)(e.url,t).then(this.checkStatus).then((function(e){return 204===e.status?null:e.json()}))}},{key:"checkStatus",value:function(e){return e.ok?e:e.json().catch((function(){return new(errors[e.status]||Error)("JSON parsing error")})).then((function(t){throw t.response=e,t}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,e),n}(),e.exports=n},357:function(e,t,n){var r=n(63),o=n(467),i=n(364),c=n(798),a=n(167),s=n(3),u=n(421),f={jquery:r,superagent:o,request:i,fetch:c,axios:a,angular:s,angularHttpClient:n=n(977)};function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t={Base:u};return Object.keys(f).forEach((function(n){t[n]=function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:f[n];if(!t)throw new Error("".concat(n," has to be provided to feathers-rest"));function i(n){return new o({base:e,name:n,connection:t,options:r})}function c(e){if("function"==typeof e.defaultService)throw new Error("Only one default client provider can be configured");e.rest=t,e.defaultService=i}return"function"==typeof r&&(o=r,r={}),c.Service=o,c.service=i,c}})),t}e.exports=Object.assign(l,{SuperagentClient:o,FetchClient:c,jQueryClient:r,RequestClient:i,AxiosClient:a,AngularClient:s,AngularHttpClient:n}),e.exports.default=l},63:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);return n=t?(n=c(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,!(n=n)||"object"!==r(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):n}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=n(421);n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,a);var e,t=i(n);function n(){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return(e=[{key:"request",value:function(e,t){var n=this,r=(t=void 0===(r=t.connection)?{}:r,Object.assign({},e.headers,this.options.headers,t.headers)),o=Object.assign({dataType:e.type||"json"},t,e,{headers:r});return e.body&&(o.data=JSON.stringify(e.body),o.contentType="application/json"),delete o.type,delete o.body,new Promise((function(e,t){n.connection.ajax(o).then(e,(function(e){var n=e.responseText;try{n=JSON.parse(n)}catch(t){n=new Error(e.responseText)}n.xhr=n.response=e,t(n)}))}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,e),n}(),e.exports=n},364:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);return n=t?(n=c(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,!(n=n)||"object"!==r(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):n}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=n(421);n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,a);var e,t=i(n);function n(){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return(e=[{key:"request",value:function(e,t){var n=this;return new Promise((function(r,o){var i=void 0===(i=t.connection)?{}:i;i=Object.assign({},e.headers,i.headers),n.connection(Object.assign({json:!0},e,t.connection,{headers:i}),(function(e,t,n){return e?o(e):!e&&400<=t.statusCode?"string"==typeof n?o(new Error(n)):(n.response=t,o(Object.assign(new Error(n.message),n))):void r(n)}))}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,e),n}(),e.exports=n},467:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);return n=t?(n=c(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,!(n=n)||"object"!==r(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):n}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=n(421);n=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,a);var e,t=i(n);function n(){return function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),t.apply(this,arguments)}return(e=[{key:"request",value:function(e,t){var n=this.connection(e.method,e.url).set(this.options.headers||{}).set("Accept","application/json").set(t.connection||{}).set(e.headers||{}).type(e.type||"json");return new Promise((function(t,r){n.set(e.headers),e.body&&n.send(e.body),n.end((function(e,n){if(e){try{var o=e.response;(e=JSON.parse(e.response.text)).response=o}catch(e){}return r(e)}t(n&&n.body)}))}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,e),n}(),e.exports=n},105:function(e,t,n){var r=n(910);function o(e,t){if(!e)throw new Error("Socket.io connection needs to be provided");if(e&&e.io&&e.io.engine&&e.io.engine.transport&&e.io.engine.transport.query&&3<e.io.engine.transport.query.EIO)throw console.error("You are trying to use the Socket.io client version 3 or later with Feathers v4 which only supports Socket.io version 2. Please use socket.io-client version 2 instead."),new Error("socket.io-client must be version 2.x");function n(n){var o=this,i=Object.keys(this.eventMappings||{}).map((function(e){return o.eventMappings[e]}));return n=Object.assign({},t,{events:i,name:n,connection:e,method:"emit"}),new r(n)}function o(t){if("function"==typeof t.defaultService)throw new Error("Only one default client provider can be configured");t.io=e,t.defaultService=n}return o.Service=r,o.service=n,o}e.exports=o,e.exports.default=o},910:function(e,t,n){e.exports=n(4).Service},4:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Service=void 0,r=r(n(898));var o=n(441),i=r.default("@feathersjs/transport-commons/client"),c=["addListener","emit","listenerCount","listeners","on","once","prependListener","prependOnceListener","removeAllListeners","removeListener"],a=["eventNames","getMaxListeners","setMaxListeners"];r=function(){function e(t){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.events=t.events,this.path=t.name,this.connection=t.connection,this.method=t.method,this.timeout=t.timeout||5e3,function(e){a.forEach((function(t){e[t]=function(){var e;if("function"!=typeof this.connection[t])throw new Error("Can not call '".concat(t,"' on the client service connection"));return(e=this.connection)[t].apply(e,arguments)}})),c.forEach((function(t){e[t]=function(e){if("function"!=typeof this.connection[t])throw new Error("Can not call '".concat(t,"' on the client service connection"));var n="".concat(this.path," ").concat(e);i("Calling emitter method ".concat(t," with ")+"namespaced event '".concat(n,"'"));for(var r=arguments.length,o=new Array(1<r?r-1:0),c=1;c<r;c++)o[c-1]=arguments[c];return(n=(e=this.connection)[t].apply(e,[n].concat(o)))===this.connection?this:n}}))}(this)}var t;return(t=[{key:"send",value:function(e){for(var t=this,n=arguments.length,r=new Array(1<n?n-1:0),c=1;c<n;c++)r[c-1]=arguments[c];return new Promise((function(n,c){var a,s=setTimeout((function(){return c(new o.Timeout("Timeout of ".concat(t.timeout,"ms exceeded calling ").concat(e," on ").concat(t.path),{timeout:t.timeout,method:e,path:t.path}))}),t.timeout);r.unshift(e,t.path),r.push((function(e,t){return e=o.convert(e),clearTimeout(s),e?c(e):n(t)})),i("Sending socket.".concat(t.method),r),(a=t.connection)[t.method].apply(a,r)}))}},{key:"find",value:function(e){return e=0<arguments.length&&void 0!==e?e:{},this.send("find",e.query||{})}},{key:"get",value:function(e,t){return t=1<arguments.length&&void 0!==t?t:{},this.send("get",e,t.query||{})}},{key:"create",value:function(e,t){return t=1<arguments.length&&void 0!==t?t:{},this.send("create",e,t.query||{})}},{key:"update",value:function(e,t,n){return n=2<arguments.length&&void 0!==n?n:{},this.send("update",e,t,n.query||{})}},{key:"patch",value:function(e,t,n){return n=2<arguments.length&&void 0!==n?n:{},this.send("patch",e,t,n.query||{})}},{key:"remove",value:function(e,t){return t=1<arguments.length&&void 0!==t?t:{},this.send("remove",e,t.query||{})}},{key:"off",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"!=typeof this.connection.off?0===n.length?this.removeAllListeners(e):this.removeListener.apply(this,[e].concat(n)):(e=(o=this.connection).off.apply(o,["".concat(this.path," ").concat(e)].concat(n)))===this.connection?this:e;var o}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),t.Service=r},699:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(){void 0!==i&&e.removeListener("error",i),n([].slice.call(arguments))}var i;"error"!==t&&(i=function(n){e.removeListener(t,o),r(n)},e.once("error",i)),e.once(t,o)}))},(i.EventEmitter=i).prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var c=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function s(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,i;return a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener||n),o=e._events),i=o[t]),void 0===i?(i=o[t]=n,++e._eventsCount):("function"==typeof i?i=o[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),0<(n=s(e))&&i.length>n&&!i.warned&&(i.warned=!0,(n=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=i.length,n=n,console&&console.warn&&console.warn(n))),e}function f(e,t,n){return(t=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(e={fired:!1,wrapFn:void 0,target:e,type:t,listener:n})).listener=n,e.wrapFn=t}function l(e,t,n){return void 0===(e=e._events)||void 0===(t=e[t])?[]:"function"==typeof t?n?[t.listener||t]:[t]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):h(t,t.length)}function p(e){var t=this._events;if(void 0!==t){if("function"==typeof(e=t[e]))return 1;if(void 0!==e)return e.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return s(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o,i="error"===e,c=this._events;if(void 0!==c)i=i&&void 0===c.error;else if(!i)return!1;if(i){if(0<t.length&&(o=t[0]),o instanceof Error)throw o;throw(i=new Error("Unhandled error."+(o?" ("+o.message+")":""))).context=o,i}if(void 0===(e=c[e]))return!1;if("function"==typeof e)r(e,this,t);else{var a=e.length,s=h(e,a);for(n=0;n<a;++n)r(s[n],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,f(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,f(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,c;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;0<=i;i--)if(n[i]===t||n[i].listener===t){c=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,c||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n=this._events;if(void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){for(var r,o=Object.keys(n),i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;0<=i;i--)this.removeListener(e,t[i]);return this},i.prototype.listeners=function(e){return l(this,e,!0)},i.prototype.rawListeners=function(e){return l(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return 0<this._eventsCount?t(this._events):[]}},378:function(e){var t=36e5,n=864e5;function r(e,t,n,r){return t=1.5*n<=t,Math.round(e/n)+" "+r+(t?"s":"")}e.exports=function(e,o){o=o||{};var i=typeof e;if("string"==i&&0<e.length)return function(e){if(!(100<(e=String(e)).length)&&(e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e))){var r=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return r*n;case"hours":case"hour":case"hrs":case"hr":case"h":return r*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*r;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}(e);if("number"==i&&isFinite(e))return(o.long?function(e){var o=Math.abs(e);return n<=o?r(e,o,n,"day"):t<=o?r(e,o,t,"hour"):6e4<=o?r(e,o,6e4,"minute"):1e3<=o?r(e,o,1e3,"second"):e+" ms"}:function(e){var r=Math.abs(e);return n<=r?Math.round(e/n)+"d":t<=r?Math.round(e/t)+"h":6e4<=r?Math.round(e/6e4)+"m":1e3<=r?Math.round(e/1e3)+"s":e+"ms"})(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},527:function(e,t,n){"use strict";var r=String.prototype.replace,o=/%20/g,i=n(493);n={RFC1738:"RFC1738",RFC3986:"RFC3986"},e.exports=i.assign({default:n.RFC3986,formatters:{RFC1738:function(e){return r.call(e,o,"+")},RFC3986:function(e){return String(e)}}},n)},126:function(e,t,n){"use strict";var r=n(690),o=n(166);n=n(527),e.exports={formats:n,parse:o,stringify:r}},166:function(e,t,n){"use strict";function r(e,t){return e&&"string"==typeof e&&t.comma&&-1<e.indexOf(",")?e.split(","):e}function o(e,t,n,o){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=0<n.depth&&/(\[[^[\]]*])/.exec(i),u=[];if(e=s?i.slice(0,s.index):i){if(!n.plainObjects&&c.call(Object.prototype,e)&&!n.allowPrototypes)return;u.push(e)}for(var f=0;0<n.depth&&null!==(s=a.exec(i))&&f<n.depth;){if(f+=1,!n.plainObjects&&c.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(s[1])}return s&&u.push("["+i.slice(s.index)+"]"),function(e,t,n,o){for(var i=o?t:r(t,n),c=e.length-1;0<=c;--c){var a,s,u,f=e[c];"[]"===f&&n.parseArrays?a=[].concat(i):(a=n.plainObjects?Object.create(null):{},s="["===f.charAt(0)&&"]"===f.charAt(f.length-1)?f.slice(1,-1):f,u=parseInt(s,10),n.parseArrays||""!==s?!isNaN(u)&&f!==s&&String(u)===s&&0<=u&&n.parseArrays&&u<=n.arrayLimit?(a=[])[u]=i:a[s]=i:a={0:i}),i=a}return i}(u,t,n,o)}}var i=n(493),c=Object.prototype.hasOwnProperty,a=Array.isArray,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1};e.exports=function(e,t){var n=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=(void 0===e.charset?s:e).charset;return{allowDots:void 0===e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:("boolean"==typeof e.allowPrototypes?e:s).allowPrototypes,arrayLimit:("number"==typeof e.arrayLimit?e:s).arrayLimit,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:s).charsetSentinel,comma:("boolean"==typeof e.comma?e:s).comma,decoder:("function"==typeof e.decoder?e:s).decoder,delimiter:("string"==typeof e.delimiter||i.isRegExp(e.delimiter)?e:s).delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof e.interpretNumericEntities?e:s).interpretNumericEntities,parameterLimit:("number"==typeof e.parameterLimit?e:s).parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:("boolean"==typeof e.plainObjects?e:s).plainObjects,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:s).strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var n,o,u,f,l={},p=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,h=(e=t.parameterLimit===1/0?void 0:t.parameterLimit,p.split(t.delimiter,e)),y=-1,d=t.charset;if(t.charsetSentinel)for(n=0;n<h.length;++n)0===h[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[n]?d="utf-8":"utf8=%26%2310003%3B"===h[n]&&(d="iso-8859-1"),y=n,n=h.length);for(n=0;n<h.length;++n)n!==y&&((f=-1===(f=-1===(f=(o=h[n]).indexOf("]="))?o.indexOf("="):f+1)?(u=t.decoder(o,s.decoder,d,"key"),t.strictNullHandling?null:""):(u=t.decoder(o.slice(0,f),s.decoder,d,"key"),i.maybeMap(r(o.slice(f+1),t),(function(e){return t.decoder(e,s.decoder,d,"value")}))))&&t.interpretNumericEntities&&"iso-8859-1"===d&&(f=f.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))),-1<o.indexOf("[]=")&&(f=a(f)?[f]:f),c.call(l,u)?l[u]=i.combine(l[u],f):l[u]=f);return l}(e,n):e,f=n.plainObjects?Object.create(null):{},l=Object.keys(u),p=0;p<l.length;++p){var h=o(h=l[p],u[h],n,"string"==typeof e);f=i.merge(f,h,n)}return i.compact(f)}},690:function(e,t,n){"use strict";function r(e,t){f.apply(e,u(t)?t:[t])}function o(e,t,n,c,a,s,f,l,h,y,d,v,m){var b=e;if("function"==typeof f?b=f(t,b):b instanceof Date?b=y(b):"comma"===n&&u(b)&&(b=i.maybeMap(b,(function(e){return e instanceof Date?y(e):e})).join(",")),null===b){if(c)return s&&!v?s(t,p.encoder,m,"key"):t;b=""}if("string"==typeof(e=b)||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e||i.isBuffer(b))return s?[d(v?t:s(t,p.encoder,m,"key"))+"="+d(s(b,p.encoder,m,"value"))]:[d(t)+"="+d(String(b))];var g,O=[];if(void 0===b)return O;g=u(f)?f:(e=Object.keys(b),l?e.sort(l):e);for(var w=0;w<g.length;++w){var j=g[w],k=b[j];a&&null===k||r(O,o(k,j=u(b)?"function"==typeof n?n(t,j):t:t+(h?"."+j:"["+j+"]"),n,c,a,s,f,l,h,y,d,v,m))}return O}var i=n(493),c=n(527),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,f=Array.prototype.push,l=Date.prototype.toISOString,p=(n=c.default,{addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:n,formatter:c.formatters[n],indices:!1,serializeDate:function(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1});e.exports=function(e,t){var n=e,i=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=c.default;if(void 0!==e.format){if(!a.call(c.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=c.formatters[n];return n=p.filter,"function"!=typeof e.filter&&!u(e.filter)||(n=e.filter),{addQueryPrefix:("boolean"==typeof e.addQueryPrefix?e:p).addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:p).charsetSentinel,delimiter:(void 0===e.delimiter?p:e).delimiter,encode:("boolean"==typeof e.encode?e:p).encode,encoder:("function"==typeof e.encoder?e:p).encoder,encodeValuesOnly:("boolean"==typeof e.encodeValuesOnly?e:p).encodeValuesOnly,filter:n,formatter:r,serializeDate:("function"==typeof e.serializeDate?e:p).serializeDate,skipNulls:("boolean"==typeof e.skipNulls?e:p).skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:p).strictNullHandling}}(t);"function"==typeof i.filter?n=(0,i.filter)("",n):u(i.filter)&&(h=i.filter);var f=[];if("object"!=typeof n||null===n)return"";e=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t&&!t.indices?"repeat":"indices";var l=s[e],h=h||Object.keys(n);i.sort&&h.sort(i.sort);for(var y=0;y<h.length;++y){var d=h[y];i.skipNulls&&null===n[d]||r(f,o(n[d],d,l,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.formatter,i.encodeValuesOnly,i.charset))}return t=f.join(i.delimiter),e=!0===i.addQueryPrefix?"?":"",i.charsetSentinel&&("iso-8859-1"===i.charset?e+="utf8=%26%2310003%3B&":e+="utf8=%E2%9C%93&"),0<t.length?e+t:""}},493:function(e){"use strict";function t(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n}var n=Object.prototype.hasOwnProperty,r=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();e.exports={arrayToObject:t,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],o=0;o<t.length;++o)for(var i=t[o],c=i.obj[i.prop],a=Object.keys(c),s=0;s<a.length;++s){var u=a[s],f=c[u];"object"==typeof f&&null!==f&&-1===n.indexOf(f)&&(t.push({obj:c,prop:u}),n.push(f))}return function(e){for(;1<e.length;){var t=e.pop(),n=t.obj[t.prop];if(r(n)){for(var o=[],i=0;i<n.length;++i)void 0!==n[i]&&o.push(n[i]);t.obj[t.prop]=o}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n){if(0===e.length)return e;var r=e;if("symbol"==typeof e?r=Symbol.prototype.toString.call(e):"string"!=typeof e&&(r=String(e)),"iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var i="",c=0;c<r.length;++c){var a=r.charCodeAt(c);45===a||46===a||95===a||126===a||48<=a&&a<=57||65<=a&&a<=90||97<=a&&a<=122?i+=r.charAt(c):a<128?i+=o[a]:a<2048?i+=o[192|a>>6]+o[128|63&a]:a<55296||57344<=a?i+=o[224|a>>12]+o[128|a>>6&63]+o[128|63&a]:(c+=1,a=65536+((1023&a)<<10|1023&r.charCodeAt(c)),i+=o[240|a>>18]+o[128|a>>12&63]+o[128|a>>6&63]+o[128|63&a])}return i},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(r(e)){for(var n=[],o=0;o<e.length;o+=1)n.push(t(e[o]));return n}return t(e)},merge:function e(o,i,c){if(!i)return o;if("object"!=typeof i){if(r(o))o.push(i);else{if(!o||"object"!=typeof o)return[o,i];(c&&(c.plainObjects||c.allowPrototypes)||!n.call(Object.prototype,i))&&(o[i]=!0)}return o}if(!o||"object"!=typeof o)return[o].concat(i);var a=o;return r(o)&&!r(i)&&(a=t(o,c)),r(o)&&r(i)?(i.forEach((function(t,r){var i;n.call(o,r)?(i=o[r])&&"object"==typeof i&&t&&"object"==typeof t?o[r]=e(i,t,c):o.push(t):o[r]=t})),o):Object.keys(i).reduce((function(t,r){var o=i[r];return n.call(t,r)?t[r]=e(t[r],o,c):t[r]=o,t}),a)}}},425:function(e,t){var n,r;n=[],void 0===(r="function"==typeof(r=function(){var e="function"==typeof Object.getOwnPropertySymbols;return{create:function(){var e=Object.create(this),t="string"==typeof e.__init?e.__init:"init";return"function"==typeof e[t]&&e[t].apply(e,arguments),e},mixin:function(t,n){var r=n||this,o=/\b_super\b/,i=Object.getPrototypeOf(r)||r.prototype,c={},a=t,s=function(e){var t=Object.getOwnPropertyDescriptor(a,e);!c[e]&&t&&(c[e]=t)};do{Object.getOwnPropertyNames(a).forEach(s),e&&Object.getOwnPropertySymbols(a).forEach(s)}while((a=Object.getPrototypeOf(a))&&Object.getPrototypeOf(a));var u=function(t){var n=c[t];"function"==typeof n.value&&o.test(n.value)&&(n.value=function(t,n,r,o){var i="function"==typeof n,c=function(){var e=this._super;this._super=i?n:t[r];var c=o.apply(this,arguments);return this._super=e,c};return i&&(Object.keys(n).forEach((function(e){c[e]=n[e]})),e&&Object.getOwnPropertySymbols(n).forEach((function(e){c[e]=n[e]}))),c}(i,r[t],t,n.value)),Object.defineProperty(r,t,n)};return Object.keys(c).forEach(u),e&&Object.getOwnPropertySymbols(c).forEach(u),r},extend:function(e,t){return this.mixin(e,Object.create(t||this))},proxy:function(e){var t=this[e],n=Array.prototype.slice.call(arguments,1);return n.unshift(this),t.bind.apply(t,n)}}})?r.apply(t,n):r)||(e.exports=r)}},t={},function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(219);var e,t}));